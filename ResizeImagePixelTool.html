<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resize Image Pixel Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(45, 55, 72, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            background: linear-gradient(90deg, #667eea, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .upload-section {
            margin-bottom: 30px;
        }
        
        .upload-area {
            border: 2px dashed rgba(102, 126, 234, 0.5);
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            background: rgba(26, 32, 44, 0.4);
        }
        
        .upload-area:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .upload-area i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .upload-area p {
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        #fileInput {
            display: none;
        }
        
        .custom-file-button {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .custom-file-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        
        .settings-section {
            background: rgba(26, 32, 44, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .dimension-inputs {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .input-group {
            flex: 1;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .input-group input {
            width: 100%;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .checkbox-group input {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }
        
        .process-button {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            display: block;
            margin: 0 auto;
        }
        
        .process-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        
        .process-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-section {
            margin-top: 30px;
        }
        
        .result-item {
            background: rgba(26, 32, 44, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .result-image {
            width: 120px;
            height: 120px;
            object-fit: contain;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .result-info {
            flex: 1;
        }
        
        .result-info h3 {
            margin-bottom: 10px;
            color: white;
        }
        
        .result-info p {
            margin-bottom: 5px;
            color: #a0aec0;
        }
        
        .download-button {
            background: linear-gradient(90deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }
        
        .download-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(72, 187, 120, 0.4);
        }
        
        .compression-links {
            margin-top: 40px;
            text-align: center;
            padding: 20px;
            background: rgba(26, 32, 44, 0.4);
            border-radius: 10px;
        }
        
        .compression-links h2 {
            margin-bottom: 15px;
            color: white;
        }
        
        .compression-links p {
            margin-bottom: 20px;
            color: #a0aec0;
        }
        
        .link-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .link-button {
            background: linear-gradient(90deg, #f6ad55, #ed8936);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(246, 173, 85, 0.3);
        }
        
        .link-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(246, 173, 85, 0.4);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #48bb78;
            color: white;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(150%);
            transition: transform 0.3s;
            z-index: 1001;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #fc8181;
        }
        
        @media (max-width: 768px) {
            .dimension-inputs {
                flex-direction: column;
            }
            
            .result-item {
                flex-direction: column;
                text-align: center;
            }
            
            .link-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-expand-arrows-alt"></i> Resize Image Pixel Tool</h1>
        
        <div class="upload-section">
            <div class="upload-area" id="uploadArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Drag and drop images here or click to browse</p>
                <button type="button" class="custom-file-button" id="browseButton">Select Images</button>
                <input type="file" id="fileInput" multiple accept="image/*">
            </div>
        </div>
        
        <div class="settings-section">
            <div class="dimension-inputs">
                <div class="input-group">
                    <label for="widthInput">Width (pixels)</label>
                    <input type="number" id="widthInput" placeholder="Enter width" min="1">
                </div>
                <div class="input-group">
                    <label for="heightInput">Height (pixels)</label>
                    <input type="number" id="heightInput" placeholder="Enter height" min="1">
                </div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="aspectRatioCheckbox" checked>
                <label for="aspectRatioCheckbox">Maintain aspect ratio</label>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="compressCheckbox">
                <label for="compressCheckbox">Compress image</label>
            </div>
            
            <button type="button" class="process-button" id="processButton" disabled>Resize Images</button>
        </div>
        
        <div class="results-section" id="resultsSection" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: white;">Completed! You can download images with new dimensions.</h2>
            <div id="resultsContainer"></div>
        </div>
        
        <div class="compression-links">
            <h2>Need to Compress to Specific File Sizes?</h2>
            <p>The tool can resize image pixels. But if you want to reduce the image size to 50kb or 100kb then you can check the links given below. There you can convert image size in kb or any desired size.</p>
            <div class="link-buttons">
                <a href="https://image.pi7.org/compress-to-50kb" target="_blank" class="link-button">
                    <i class="fas fa-compress-alt"></i> Compress image size to 50kb
                </a>
                <a href="https://image.pi7.org/compress-to-100kb" target="_blank" class="link-button">
                    <i class="fas fa-compress-alt"></i> Compress image size to 100kb
                </a>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // DOM elements
        const uploadArea = document.getElementById('uploadArea');
        const browseButton = document.getElementById('browseButton');
        const fileInput = document.getElementById('fileInput');
        const widthInput = document.getElementById('widthInput');
        const heightInput = document.getElementById('heightInput');
        const aspectRatioCheckbox = document.getElementById('aspectRatioCheckbox');
        const compressCheckbox = document.getElementById('compressCheckbox');
        const processButton = document.getElementById('processButton');
        const resultsSection = document.getElementById('resultsSection');
        const resultsContainer = document.getElementById('resultsContainer');
        const notification = document.getElementById('notification');
        
        let selectedFiles = [];
        let originalAspectRatio = 1;
        
        // Event listeners
        uploadArea.addEventListener('click', () => fileInput.click());
        browseButton.addEventListener('click', () => fileInput.click());
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = '#667eea';
            uploadArea.style.background = 'rgba(102, 126, 234, 0.2)';
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.borderColor = 'rgba(102, 126, 234, 0.5)';
            uploadArea.style.background = 'rgba(26, 32, 44, 0.4)';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(102, 126, 234, 0.5)';
            uploadArea.style.background = 'rgba(26, 32, 44, 0.4)';
            
            if (e.dataTransfer.files.length) {
                handleFiles(e.dataTransfer.files);
            }
        });
        
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length) {
                handleFiles(e.target.files);
            }
        });
        
        aspectRatioCheckbox.addEventListener('change', () => {
            if (aspectRatioCheckbox.checked && widthInput.value && selectedFiles.length > 0) {
                // Calculate height based on width and aspect ratio
                heightInput.value = Math.round(widthInput.value / originalAspectRatio);
            }
        });
        
        widthInput.addEventListener('input', () => {
            if (aspectRatioCheckbox.checked && selectedFiles.length > 0) {
                // Calculate height based on width and aspect ratio
                heightInput.value = Math.round(widthInput.value / originalAspectRatio);
            }
        });
        
        heightInput.addEventListener('input', () => {
            if (aspectRatioCheckbox.checked && selectedFiles.length > 0) {
                // Calculate width based on height and aspect ratio
                widthInput.value = Math.round(heightInput.value * originalAspectRatio);
            }
        });
        
        processButton.addEventListener('click', processImages);
        
        // Functions
        function handleFiles(files) {
            selectedFiles = Array.from(files);
            
            if (selectedFiles.length === 0) {
                showNotification('Please select at least one image file', 'error');
                return;
            }
            
            // Check if all files are images
            const allImages = selectedFiles.every(file => file.type.startsWith('image/'));
            
            if (!allImages) {
                showNotification('Please select only image files', 'error');
                return;
            }
            
            // Get the first image to calculate aspect ratio
            const firstImage = selectedFiles[0];
            const img = new Image();
            
            img.onload = function() {
                originalAspectRatio = this.width / this.height;
                
                // Set default dimensions to the original image dimensions
                widthInput.value = this.width;
                heightInput.value = this.height;
                
                processButton.disabled = false;
                showNotification(`${selectedFiles.length} image(s) selected`);
            };
            
            img.src = URL.createObjectURL(firstImage);
        }
        
        function processImages() {
            if (!widthInput.value || !heightInput.value) {
                showNotification('Please enter both width and height', 'error');
                return;
            }
            
            const width = parseInt(widthInput.value);
            const height = parseInt(heightInput.value);
            
            if (width <= 0 || height <= 0) {
                showNotification('Width and height must be greater than 0', 'error');
                return;
            }
            
            resultsContainer.innerHTML = '';
            resultsSection.style.display = 'block';
            
            selectedFiles.forEach((file, index) => {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const img = new Image();
                    
                    img.onload = function() {
                        // Create canvas for resizing
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        canvas.width = width;
                        canvas.height = height;
                        
                        // Draw resized image
                        ctx.drawImage(img, 0, 0, width, height);
                        
                        // Convert to blob
                        canvas.toBlob(function(blob) {
                            // Create result item
                            const resultItem = document.createElement('div');
                            resultItem.className = 'result-item';
                            
                            // Create image preview
                            const resultImage = document.createElement('img');
                            resultImage.src = URL.createObjectURL(blob);
                            resultImage.className = 'result-image';
                            
                            // Create info container
                            const resultInfo = document.createElement('div');
                            resultInfo.className = 'result-info';
                            
                            const fileName = document.createElement('h3');
                            fileName.textContent = file.name;
                            
                            const fileSize = document.createElement('p');
                            fileSize.textContent = `Original size: ${formatFileSize(file.size)}`;
                            
                            const newFileSize = document.createElement('p');
                            newFileSize.textContent = `New size: ${formatFileSize(blob.size)}`;
                            
                            const dimensions = document.createElement('p');
                            dimensions.textContent = `Dimensions: ${width} × ${height} pixels`;
                            
                            resultInfo.appendChild(fileName);
                            resultInfo.appendChild(fileSize);
                            resultInfo.appendChild(newFileSize);
                            resultInfo.appendChild(dimensions);
                            
                            // Create download button
                            const downloadButton = document.createElement('button');
                            downloadButton.className = 'download-button';
                            downloadButton.innerHTML = '<i class="fas fa-download"></i> Download';
                            
                            downloadButton.addEventListener('click', () => {
                                const a = document.createElement('a');
                                a.href = URL.createObjectURL(blob);
                                a.download = `resized_${file.name}`;
                                a.click();
                            });
                            
                            resultItem.appendChild(resultImage);
                            resultItem.appendChild(resultInfo);
                            resultItem.appendChild(downloadButton);
                            
                            resultsContainer.appendChild(resultItem);
                            
                            if (index === selectedFiles.length - 1) {
                                showNotification('Images resized successfully!');
                            }
                        }, compressCheckbox.checked ? 0.7 : 0.9, 'image/jpeg');
                    };
                    
                    img.src = e.target.result;
                };
                
                reader.readAsDataURL(file);
            });
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = 'notification show';
            
            if (type === 'error') {
                notification.classList.add('error');
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
